<h1>Products in stock</h1>

<p>
  <%= link_to 'New product', new_product_path, :class => "btn btn-primary"  %>
  <%= link_to 'New category', new_product_category_path, :class => "btn btn-primary" %>
</p>

<table class="table table-hover table-responsive">
  <tr class="table-inverse">
    <th>Name</th>
    <th>Description</th>
    <th>Price</th>
    <th>Categories</th>
    <th>Photo</th>
    <th colspan="3">Actions</th>
  </tr>

  <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.description %></td>
        <td><%= product.price %></td>
        <td>
          <% product.product_categories.each do |category| %>
            <%= "#{category.name}; " %>
          <% end %>
        </td>
        <td><%= image_tag product.photo.url(:thumb) %></td>
        <td><%= link_to 'Show', product_path(product), :class => "btn btn-info" %></td>
        <td><%= link_to 'Edit', edit_product_path(product), :class => "btn btn-warning" %></td>
        <td>
          <%= link_to 'Destroy', product_path(product),
                      method: :delete,
                      data: { confirm: 'Are you sure?' },
                      :class => "btn btn-danger" %>
        </td>
      </tr>
  <% end %>
</table>